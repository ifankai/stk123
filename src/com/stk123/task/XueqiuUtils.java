package com.stk123.task;

import java.io.File;
import java.io.FileOutputStream;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;
import java.util.HashMap;
import java.util.HashSet;
import java.util.List;
import java.util.Map;
import java.util.Set;

import org.apache.commons.collections.CollectionUtils;
import org.apache.commons.httpclient.Header;
import org.apache.commons.io.FileUtils;
import org.apache.commons.io.IOUtils;
import org.apache.commons.lang.StringUtils;

import com.stk123.tool.util.ConfigUtils;
import com.stk123.tool.util.HttpUtils;
import com.stk123.tool.util.JsonUtils;

public class XueqiuUtils {
	
	private static String cookies = null; //ConfigUtils.getProp("xueqiu.cookie"); 
	
	static{
		Thread my = new Thread() {
			@Override
			public void run() {
				while(true){
					if(StringUtils.isNotEmpty(cookies)){
						cookies = null;
					}
					try {
						Thread.sleep(1000 * 60 * 30);
					} catch (InterruptedException e) {
						e.printStackTrace();
					}
				}
			}
		};
		my.setDaemon(true);
		my.start();
	}
	
	public static Map<String, String> getCookies(){
		Map<String, String> requestHeaders = new HashMap<String, String>();
		if(cookies == null){
			//cookies = login();
		}
		if(cookies == null || cookies.length() == 0){
			//cookies = "aliyungf_tc=AQAAAChdej+MRAcAyEzEKlewsV8BhWiO; xq_a_token.sig=F2iHnlcpCSXgutP8euxdQqDfqq4; xq_r_token.sig=ZcCuq7XTdkGNIafT5ot8irXZzCU; device_id=9e72888b69a1db66c7db8e62c4be5508; s=g012xghag5; bid=26948a7b701285b58366203fbc172ea6_j7fn1q7b; webp=0; snbim_minify=true; __utmt=1; __utma=1.785228432.1505102053.1505126378.1505130297.3; __utmb=1.10.8.1505130359323; __utmc=1; __utmz=1.1505102053.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); captcha_id=WTvEoVxjJGDv6LYrpLfskEMPrAoAvK; xq_a_token=ef5544a2ab4f023740a43b9c7536f2c3869b4838; xqat=ef5544a2ab4f023740a43b9c7536f2c3869b4838; xq_r_token=dbcdb8706fd556ed2172ac5f89dcec581cf1c893; xq_is_login=1; u=6237744859; xq_token_expire=Fri%20Oct%2006%202017%2019%3A49%3A51%20GMT%2B0800%20(CST); Hm_lvt_1db88642e346389874251b5a1eded6e3=1504942936,1505028862,1505051594,1505102153; Hm_lpvt_1db88642e346389874251b5a1eded6e3=1505130466";
			//cookies = "device_id=7e03b129e635a880b2f9c41bf47b6694; s=fx121la7of; bid=26948a7b701285b58366203fbc172ea6_j9krmr16; webp=0; aliyungf_tc=AQAAAFmXpW/eNwkAQvSh02g9nwxYZjLF; snbim_minify=true; __utma=1.1695750544.1509767735.1526700872.1527685346.125; __utmc=1; __utmz=1.1516714240.65.3.utmcsr=localhost|utmccn=(referral)|utmcmd=referral|utmcct=/stk; remember=1; remember.sig=K4F3faYzmVuqC0iXIERCQf55g2Y; xq_a_token=b8b1733f3010dcc2e0fa9203a061039e3db9849f; xq_a_token.sig=eY7aVZ1b2NGWUf8weoa2qRajDAI; xq_r_token=b23ed2dacc5acebb2223cf3d2e980c2015f7d604; xq_r_token.sig=Erv_yB_ciU1hMP8QFajICPVtXcY; xq_is_login=1; xq_is_login.sig=J3LxgPVPUzbBg3Kee_PquUfih7Q; u=6237744859; u.sig=jFt0sGgsXMOKMFnjEVjqQCy_ido; Hm_lvt_1db88642e346389874251b5a1eded6e3=1525514400,1526046498,1527685338,1527686350; Hm_lpvt_1db88642e346389874251b5a1eded6e3=1527907491; _ga=GA1.2.1695750544.1509767735; _gid=GA1.2.1245105765.1527907344";
			try {
				ConfigUtils.setConfigFile("D:/share/workspace/stk123/stk.properties");
			} catch (Exception e) {
				e.printStackTrace();
			}
			cookies = ConfigUtils.getProp("xueqiu.cookie");
			System.out.println("cookie="+cookies);
		}
    	requestHeaders.put("Cookie", cookies);
    	return requestHeaders;
	}
	
	/**
	 * @return Cookies
	 */
	private static String login(){
		Map<String, String> params = new HashMap<String, String>();
		params.put("username", "ifankai@126.com");
		params.put("areacode", "86");
		params.put("remember_me", "on");
		params.put("password", "FAEE62F3236431487F98D5DC9FCC578A");
		Map<String, String> requestHeaders = new HashMap<String, String>();
		requestHeaders.put("X-Requested-With", "XMLHttpRequest");
		List<Header> respHeaders = new ArrayList<Header>();
		HttpUtils.post("https://xueqiu.com/user/login", params, requestHeaders, "UTF-8", respHeaders);
		Set<String> cookies = new HashSet<String>();
		for(Header hd : respHeaders){
			if("Set-Cookie".equals(hd.getName())){
				cookies.addAll(Arrays.asList(StringUtils.split(hd.getValue(), ";")));
			}
		}
		return StringUtils.replace(StringUtils.join(cookies, "; "), ".xueqiu.com;", "xueqiu.com;");
	}
	
	//https://xueqiu.com/v4/stock/portfolio/stocks.json?size=1000&pid=10&tuid=6237744859&pname=%E5%85%B3%E6%B3%A8C&uid=6237744859&category=2&type=2&_=1505130889888
	//https://xueqiu.com/v4/stock/portfolio/stocks.json?size=1000&pid=17&tuid=6237744859&pname=%E5%85%B3%E6%B3%A8H&uid=6237744859&category=2&type=2&_=1505131015277
	public static Set<String> getFollowStks(String tabName) throws Exception {
		if(Follows.get(tabName) != null){
			return Follows.get(tabName);
		}
		Map<String, String> headerRequests = XueqiuUtils.getCookies();
		//System.out.println(headerRequests);
		//headerRequests.put("Content-Type", "application/json;charset=UTF-8");
    	String page = HttpUtils.get("https://xueqiu.com/stock/portfolio/stocks.json?size=1000&pid=10&tuid=6237744859", null, headerRequests, "GBK");
    	//System.out.println(page);
    	Set<String> careA = new HashSet<String>();
        Map<String, List> map = (Map) JsonUtils.testJson(page);
        //System.out.println(map.get("portfolios"));
        for(Object obj : map.get("portfolios")){
            Map care = (Map)obj;
            if(tabName.equals(care.get("name"))){
                for(String s : StringUtils.split((String)care.get("stocks"),",")){
                	careA.add(s.substring(2));
                };
            }
        }
        if(careA.size() > 0){
        	Follows.put(tabName, careA);
        }
        return careA;
    }
	
	//https://xueqiu.com/u/road_of_faith#/stock
	//https://stock.xueqiu.com/v5/stock/portfolio/stock/list.json?pid=-5&category=1&size=1000&uid=6237744859
	//{"data":{"pid":-5,"category":1,"stocks":[{"symbol":"SZ000526","name":"紫光学大","type":11,"remark":"","exchange":"SZ","created":1590697960528},{"symbol":"SH601288","name":"农业银行","type":11,"remark":"","exchange":"SH","created":1590462857107},{"symbol":"SH000902","name":"中证流通","type":12,"remark":"","exchange":"SH","created":1590060296825},{"symbol":"SH603589","name":"口子窖","type":11,"remark":"","exchange":"SH","created":1589462380128},{"symbol":"SZ002078","name":"太阳纸业","type":11,"remark":"","exchange":"SZ","created":1589348728872},{"symbol":"SZ300143","name":"盈康生命","type":11,"remark":"","exchange":"SZ","created":1589339756922},{"symbol":"SH603833","name":"欧派家居","type":11,"remark":"","exchange":"SH","created":1588820421763},{"symbol":"SH600340","name":"华夏幸福","type":11,"remark":"","exchange":"SH","created":1588297502056},{"symbol":"SH603197","name":"保隆科技","type":11,"remark":"","exchange":"SH","created":1588154939285},{"symbol":"SH600742","name":"一汽富维","type":11,"remark":"","exchange":"SH","created":1587886903684},{"symbol":"SH603993","name":"洛阳钼业","type":11,"remark":"","exchange":"SH","created":1587798495209},{"symbol":"SZ000807","name":"云铝股份","type":11,"remark":"","exchange":"SZ","created":1587798015348},{"symbol":"SZ000933","name":"神火股份","type":11,"remark":"","exchange":"SZ","created":1587797983060},{"symbol":"SH601009","name":"南京银行","type":11,"remark":"","exchange":"SH","created":1587718258257},{"symbol":"SH688089","name":"嘉必优","type":82,"remark":"","exchange":"SH","created":1587650890682},{"symbol":"SH512170","name":"医疗ETF","type":13,"remark":"","exchange":"SH","created":1587198112652},{"symbol":"SZ002294","name":"信立泰","type":11,"remark":"","exchange":"SZ","created":1586952803488},{"symbol":"SZ002959","name":"小熊电器","type":11,"remark":"","exchange":"SZ","created":1586783300442},{"symbol":"SZ002714","name":"牧原股份","type":11,"remark":"","exchange":"SZ","created":1586704811596},{"symbol":"SH600177","name":"雅戈尔","type":11,"remark":"","exchange":"SH","created":1586508752079},{"symbol":"SZ000157","name":"中联重科","type":11,"remark":"","exchange":"SZ","created":1586413607425},{"symbol":"SZ000603","name":"盛达资源","type":11,"remark":"","exchange":"SZ","created":1586270252148},{"symbol":"SZ000002","name":"万科A","type":11,"remark":"","exchange":"SZ","created":1585664314749},{"symbol":"SZ000333","name":"美的集团","type":11,"remark":"","exchange":"SZ","created":1585658015355},{"symbol":"SZ300750","name":"宁德时代","type":11,"remark":"","exchange":"SZ","created":1585396270825},{"symbol":"SH688029","name":"南微医学","type":82,"remark":"","exchange":"SH","created":1583155708703},{"symbol":"SH688177","name":"百奥泰","type":82,"remark":"","exchange":"SH","created":1582781027265},{"symbol":"SZ300725","name":"药石科技","type":11,"remark":"","exchange":"SZ","created":1582634632130},{"symbol":"SH603927","name":"中科软","type":11,"remark":"","exchange":"SH","created":1582091912967},{"symbol":"SH512760","name":"半导体50ETF","type":13,"remark":"","exchange":"SH","created":1581999444147},{"symbol":"SZ002562","name":"兄弟科技","type":11,"remark":"","exchange":"SZ","created":1581989946300},{"symbol":"SH603195","name":"公牛集团","type":11,"remark":"","exchange":"SH","created":1581932072096},{"symbol":"SZ000789","name":"万年青","type":11,"remark":"","exchange":"SZ","created":1581845570475},{"symbol":"SZ002027","name":"分众传媒","type":11,"remark":"","exchange":"SZ","created":1581041224941},{"symbol":"SZ002468","name":"申通快递","type":11,"remark":"","exchange":"SZ","created":1580941027738},{"symbol":"SH600233","name":"圆通速递","type":11,"remark":"","exchange":"SH","created":1580911813189},{"symbol":"SZ002531","name":"天顺风能","type":11,"remark":"","exchange":"SZ","created":1580872129993},{"symbol":"SH600977","name":"中国电影","type":11,"remark":"","exchange":"SH","created":1580782081942},{"symbol":"SZ000028","name":"国药一致","type":11,"remark":"","exchange":"SZ","created":1580780859300},{"symbol":"SH600754","name":"锦江酒店","type":11,"remark":"","exchange":"SH","created":1580719295597},{"symbol":"SZ000568","name":"泸州老窖","type":11,"remark":"","exchange":"SZ","created":1580693309592},{"symbol":"SH600007","name":"中国国贸","type":11,"remark":"","exchange":"SH","created":1580436759568},{"symbol":"SH600612","name":"老凤祥","type":11,"remark":"","exchange":"SH","created":1580037663866},{"symbol":"SZ000069","name":"华侨城A","type":11,"remark":"","exchange":"SZ","created":1579956612641},{"symbol":"SH600009","name":"上海机场","type":11,"remark":"","exchange":"SH","created":1579574840726},{"symbol":"SH600004","name":"白云机场","type":11,"remark":"","exchange":"SH","created":1579534737178},{"symbol":"SZ300676","name":"华大基因","type":11,"remark":"","exchange":"SZ","created":1579415279022},{"symbol":"SH601816","name":"京沪高铁","type":11,"remark":"","exchange":"SH","created":1579140249148},{"symbol":"SZ002582","name":"好想你","type":11,"remark":"","exchange":"SZ","created":1579102742553},{"symbol":"SH600055","name":"万东医疗","type":11,"remark":"","exchange":"SH","created":1579055905359},{"symbol":"SZ300699","name":"光威复材","type":11,"remark":"","exchange":"SZ","created":1578771624126},{"symbol":"SH603866","name":"桃李面包","type":11,"remark":"","exchange":"SH","created":1578636533722},{"symbol":"SH600398","name":"海澜之家","type":11,"remark":"","exchange":"SH","created":1578454709740},{"symbol":"SZ002739","name":"万达电影","type":11,"remark":"","exchange":"SZ","created":1578345793059},{"symbol":"SH601799","name":"星宇股份","type":11,"remark":"","exchange":"SH","created":1578319089036},{"symbol":"SH603127","name":"昭衍新药","type":11,"remark":"","exchange":"SH","created":1577370996799},{"symbol":"SH688166","name":"博瑞医药","type":82,"remark":"","exchange":"SH","created":1577082535298},{"symbol":"SZ000656","name":"金科股份","type":11,"remark":"","exchange":"SZ","created":1576115995852},{"symbol":"SZ300487","name":"蓝晓科技","type":11,"remark":"","exchange":"SZ","created":1574478614399},{"symbol":"SH601668","name":"中国建筑","type":11,"remark":"","exchange":"SH","created":1573220815346},{"symbol":"SH110053","name":"苏银转债","type":14,"remark":"","exchange":"SH","created":1572418901527},{"symbol":"SH600535","name":"天士力","type":11,"remark":"","exchange":"SH","created":1572411581261},{"symbol":"SZ002304","name":"洋河股份","type":11,"remark":"","exchange":"SZ","created":1572400690926},{"symbol":"SZ000423","name":"东阿阿胶","type":11,"remark":"","exchange":"SZ","created":1571983463090},{"symbol":"SZ000887","name":"中鼎股份","type":11,"remark":"","exchange":"SZ","created":1571841739090},{"symbol":"SH600419","name":"天润乳业","type":11,"remark":"","exchange":"SH","created":1571839243573},{"symbol":"SZ300393","name":"中来股份","type":11,"remark":"","exchange":"SZ","created":1571838647685},{"symbol":"SZ300737","name":"科顺股份","type":11,"remark":"","exchange":"SZ","created":1571704735072},{"symbol":"SZ002081","name":"金螳螂","type":11,"remark":"","exchange":"SZ","created":1571446287377},{"symbol":"SH603587","name":"地素时尚","type":11,"remark":"","exchange":"SH","created":1571392903080},{"symbol":"SZ300244","name":"迪安诊断","type":11,"remark":"","exchange":"SZ","created":1571299316368},{"symbol":"SZ300192","name":"科斯伍德","type":11,"remark":"","exchange":"SZ","created":1571234927941},{"symbol":"SZ300639","name":"凯普生物","type":11,"remark":"","exchange":"SZ","created":1570977623465},{"symbol":"SZ300443","name":"金雷股份","type":11,"remark":"","exchange":"SZ","created":1570933836833},{"symbol":"SH603605","name":"珀莱雅","type":11,"remark":"","exchange":"SH","created":1569512905888},{"symbol":"SZ002262","name":"恩华药业","type":11,"remark":"","exchange":"SZ","created":1569418018201},{"symbol":"SZ002597","name":"金禾实业","type":11,"remark":"","exchange":"SZ","created":1567604460723},{"symbol":"SZ300134","name":"大富科技","type":11,"remark":"","exchange":"SZ","created":1567515979810},{"symbol":"SZ300569","name":"天能重工","type":11,"remark":"","exchange":"SZ","created":1567515952268},{"symbol":"SH603983","name":"丸美股份","type":11,"remark":"","exchange":"SH","created":1567485293867},{"symbol":"SZ300602","name":"飞荣达","type":11,"remark":"","exchange":"SZ","created":1567431607901},{"symbol":"SZ300149","name":"量子生物","type":11,"remark":"","exchange":"SZ","created":1567293314742},{"symbol":"SZ300363","name":"博腾股份","type":11,"remark":"","exchange":"SZ","created":1567176712531},{"symbol":"SZ002367","name":"康力电梯","type":11,"remark":"","exchange":"SZ","created":1566626843878},{"symbol":"SZ000799","name":"酒鬼酒","type":11,"remark":"","exchange":"SZ","created":1566547186607},{"symbol":"SH600161","name":"天坛生物","type":11,"remark":"","exchange":"SH","created":1566524515888},{"symbol":"SZ300113","name":"顺网科技","type":11,"remark":"","exchange":"SZ","created":1564674354522},{"symbol":"SZ002648","name":"卫星石化","type":11,"remark":"测试","exchange":"SZ","created":1564491022949},{"symbol":"SZ002568","name":"百润股份","type":11,"remark":"","exchange":"SZ","created":1564107926192},{"symbol":"SH688002","name":"睿创微纳","type":82,"remark":"","exchange":"SH","created":1563753450149},{"symbol":"SH688088","name":"虹软科技","type":82,"remark":"","exchange":"SH","created":1563753009242},{"symbol":"SH688008","name":"澜起科技","type":82,"remark":"","exchange":"SH","created":1563752833525},{"symbol":"SZ000031","name":"大悦城","type":11,"remark":"","exchange":"SZ","created":1563001841665},{"symbol":"SZ300451","name":"创业慧康","type":11,"remark":"","exchange":"SZ","created":1560472992145},{"symbol":"SZ000625","name":"长安汽车","type":11,"remark":"","exchange":"SZ","created":1560385781812},{"symbol":"SZ300348","name":"长亮科技","type":11,"remark":"","exchange":"SZ","created":1559174844584},{"symbol":"SZ000848","name":"承德露露","type":11,"remark":"","exchange":"SZ","created":1559173879553},{"symbol":"SH600066","name":"宇通客车","type":11,"remark":"","exchange":"SH","created":1559160237444},{"symbol":"SZ002572","name":"索菲亚","type":11,"remark":"","exchange":"SZ","created":1559048384322},{"symbol":"SZ002675","name":"东诚药业","type":11,"remark":"","exchange":"SZ","created":1559033859817},{"symbol":"SH501021","name":"香港中小LOF","type":13,"remark":"","exchange":"SH","created":1559015696941},{"symbol":"SZ002146","name":"荣盛发展","type":11,"remark":"","exchange":"SZ","created":1554265606618},{"symbol":"SZ002697","name":"红旗连锁","type":11,"remark":"","exchange":"SZ","created":1553733049855},{"symbol":"SH600025","name":"华能水电","type":11,"remark":"","exchange":"SH","created":1553377623159},{"symbol":"SH603043","name":"广州酒家","type":11,"remark":"","exchange":"SH","created":1553375861293},{"symbol":"SZ002891","name":"中宠股份","type":11,"remark":"","exchange":"SZ","created":1553340021470},{"symbol":"SZ002925","name":"盈趣科技","type":11,"remark":"","exchange":"SZ","created":1552701783472},{"symbol":"SH511990","name":"华宝添益ETF","type":13,"remark":"","exchange":"SH","created":1552281456059},{"symbol":"SH000852","name":"中证1000","type":12,"remark":"","exchange":"SH","created":1552279245401},{"symbol":"SZ000963","name":"华东医药","type":11,"remark":"","exchange":"SZ","created":1551934625584},{"symbol":"SZ002384","name":"东山精密","type":11,"remark":"","exchange":"SZ","created":1551713058920},{"symbol":"SH600197","name":"伊力特","type":11,"remark":"","exchange":"SH","created":1551677582802},{"symbol":"SZ300747","name":"锐科激光","type":11,"remark":"","exchange":"SZ","created":1551604525689},{"symbol":"SZ002563","name":"森马服饰","type":11,"remark":"","exchange":"SZ","created":1551426191569},{"symbol":"SZ000792","name":"*ST盐湖","type":11,"remark":"","exchange":"SZ","created":1550997755213},{"symbol":"SH600299","name":"安迪苏","type":11,"remark":"","exchange":"SH","created":1550801559546},{"symbol":"SH600703","name":"三安光电","type":11,"remark":"","exchange":"SH","created":1550725775748},{"symbol":"SH601933","name":"永辉超市","type":11,"remark":"","exchange":"SH","created":1550633047809},{"symbol":"SZ000513","name":"丽珠集团","type":11,"remark":"","exchange":"SZ","created":1550136482931},{"symbol":"SH513050","name":"中概互联网ETF","type":13,"remark":"","exchange":"SH","created":1549937850870},{"symbol":"SH600079","name":"人福医药","type":11,"remark":"","exchange":"SH","created":1548755215649},{"symbol":"SH600570","name":"恒生电子","type":11,"remark":"","exchange":"SH","created":1548146476460},{"symbol":"SH600323","name":"瀚蓝环境","type":11,"remark":"","exchange":"SH","created":1546370319313},{"symbol":"SH510880","name":"红利ETF","type":13,"remark":"","exchange":"SH","created":1546174762473},{"symbol":"SH600587","name":"新华医疗","type":11,"remark":"","exchange":"SH","created":1541578881820},{"symbol":"SH603486","name":"科沃斯","type":11,"remark":"","exchange":"SH","created":1540975743835},{"symbol":"SZ002299","name":"圣农发展","type":11,"remark":"","exchange":"SZ","created":1540433365128},{"symbol":"SZ000639","name":"西王食品","type":11,"remark":"","exchange":"SZ","created":1536977125719},{"symbol":"SH600315","name":"上海家化","type":11,"remark":"","exchange":"SH","created":1536898221952},{"symbol":"SH601225","name":"陕西煤业","type":11,"remark":"","exchange":"SH","created":1536628222599},{"symbol":"SH600196","name":"复星医药","type":11,"remark":"","exchange":"SH","created":1535831145762},{"symbol":"SH600487","name":"亨通光电","type":11,"remark":"","exchange":"SH","created":1535601726534},{"symbol":"SZ300571","name":"平治信息","type":11,"remark":"","exchange":"SZ","created":1535504333156},{"symbol":"SH600201","name":"生物股份","type":11,"remark":"","exchange":"SH","created":1534940148537},{"symbol":"SH512880","name":"证券ETF","type":13,"remark":"","exchange":"SH","created":1534399054072},{"symbol":"SH600511","name":"国药股份","type":11,"remark":"","exchange":"SH","created":1534062111087},{"symbol":"SZ002594","name":"比亚迪","type":11,"remark":"","exchange":"SZ","created":1533194449251},{"symbol":"SZ002632","name":"道明光学","type":11,"remark":"","exchange":"SZ","created":1532007076878},{"symbol":"SH601166","name":"兴业银行","type":11,"remark":"","exchange":"SH","created":1531876494681},{"symbol":"SZ300633","name":"开立医疗","type":11,"remark":"","exchange":"SZ","created":1531444351675},{"symbol":"SZ000100","name":"TCL科技","type":11,"remark":"","exchange":"SZ","created":1531400225262},{"symbol":"SZ002271","name":"东方雨虹","type":11,"remark":"","exchange":"SZ","created":1531388702660},{"symbol":"SH600521","name":"华海药业","type":11,"remark":"","exchange":"SH","created":1531190284785},{"symbol":"SZ300642","name":"透景生命","type":11,"remark":"","exchange":"SZ","created":1529750122493},{"symbol":"SH603960","name":"克来机电","type":11,"remark":"","exchange":"SH","created":1529676758885},{"symbol":"SZ002074","name":"国轩高科","type":11,"remark":"","exchange":"SZ","created":1529538098846},{"symbol":"SH601636","name":"旗滨集团","type":11,"remark":"","exchange":"SH","created":1527950249555},{"symbol":"SZ002128","name":"露天煤业","type":11,"remark":"","exchange":"SZ","created":1527774918860},{"symbol":"SZ002353","name":"杰瑞股份","type":11,"remark":"","exchange":"SZ","created":1527734337729},{"symbol":"SZ002763","name":"汇洁股份","type":11,"remark":"","exchange":"SZ","created":1527483923277},{"symbol":"SZ300613","name":"富瀚微","type":11,"remark":"","exchange":"SZ","created":1527483640742},{"symbol":"SZ002745","name":"木林森","type":11,"remark":"","exchange":"SZ","created":1526911594746},{"symbol":"SZ300010","name":"立思辰","type":11,"remark":"","exchange":"SZ","created":1525787900804},{"symbol":"SH600887","name":"伊利股份","type":11,"remark":"","exchange":"SH","created":1525574703870},{"symbol":"SZ000915","name":"山大华特","type":11,"remark":"","exchange":"SZ","created":1525310182560},{"symbol":"SZ002241","name":"歌尔股份","type":11,"remark":"","exchange":"SZ","created":1524622592816},{"symbol":"SH600120","name":"浙江东方","type":11,"remark":"","exchange":"SH","created":1524192108807},{"symbol":"SH601336","name":"新华保险","type":11,"remark":"","exchange":"SH","created":1522207930919},{"symbol":"SZ002508","name":"老板电器","type":11,"remark":"","exchange":"SZ","created":1521206462408},{"symbol":"SH600580","name":"卧龙电驱","type":11,"remark":"","exchange":"SH","created":1519960549153},{"symbol":"SZ002653","name":"海思科","type":11,"remark":"","exchange":"SZ","created":1519909389297},{"symbol":"SH600460","name":"士兰微","type":11,"remark":"","exchange":"SH","created":1518078675136},{"symbol":"SZ002920","name":"德赛西威","type":11,"remark":"","exchange":"SZ","created":1518078185094},{"symbol":"SZ002020","name":"京新药业","type":11,"remark":"","exchange":"SZ","created":1517469734962},{"symbol":"SH601899","name":"紫金矿业","type":11,"remark":"","exchange":"SH","created":1517133041434},{"symbol":"SH600362","name":"江西铜业","type":11,"remark":"","exchange":"SH","created":1517021606156},{"symbol":"SZ300700","name":"岱勒新材","type":11,"remark":"","exchange":"SZ","created":1516977447957},{"symbol":"SZ002127","name":"南极电商","type":11,"remark":"","exchange":"SZ","created":1516977356054},{"symbol":"SZ000960","name":"锡业股份","type":11,"remark":"","exchange":"SZ","created":1516805717501},{"symbol":"SH600389","name":"江山股份","type":11,"remark":"","exchange":"SH","created":1515856735098},{"symbol":"SZ000671","name":"阳光城","type":11,"remark":"","exchange":"SZ","created":1515722452103},{"symbol":"SZ002713","name":"东易日盛","type":11,"remark":"","exchange":"SZ","created":1515334177845},{"symbol":"SH600585","name":"海螺水泥","type":11,"remark":"","exchange":"SH","created":1515328699585},{"symbol":"SZ300568","name":"星源材质","type":11,"remark":"","exchange":"SZ","created":1515306952617},{"symbol":"SH603040","name":"新坐标","type":11,"remark":"","exchange":"SH","created":1515126609844},{"symbol":"SZ002249","name":"大洋电机","type":11,"remark":"","exchange":"SZ","created":1514117299772},{"symbol":"SZ002049","name":"紫光国微","type":11,"remark":"","exchange":"SZ","created":1514116522813},{"symbol":"SH603777","name":"来伊份","type":11,"remark":"","exchange":"SH","created":1513512754354},{"symbol":"SZ300685","name":"艾德生物","type":11,"remark":"","exchange":"SZ","created":1513254258239},{"symbol":"SZ002343","name":"慈文传媒","type":11,"remark":"","exchange":"SZ","created":1513170762817},{"symbol":"SH603260","name":"合盛硅业","type":11,"remark":"","exchange":"SH","created":1512913436701},{"symbol":"SZ002223","name":"鱼跃医疗","type":11,"remark":"","exchange":"SZ","created":1512909576428},{"symbol":"SZ300166","name":"东方国信","type":11,"remark":"","exchange":"SZ","created":1512567868629},{"symbol":"SH603019","name":"中科曙光","type":11,"remark":"","exchange":"SH","created":1512482265184},{"symbol":"SZ002373","name":"千方科技","type":11,"remark":"","exchange":"SZ","created":1512300558141},{"symbol":"SZ300308","name":"中际旭创","type":11,"remark":"","exchange":"SZ","created":1511770317026},{"symbol":"SZ002396","name":"星网锐捷","type":11,"remark":"","exchange":"SZ","created":1511582016397},{"symbol":"SZ300073","name":"当升科技","type":11,"remark":"","exchange":"SZ","created":1511184064361},{"symbol":"SZ000961","name":"中南建设","type":11,"remark":"","exchange":"SZ","created":1509454837435},{"symbol":"SZ300709","name":"精研科技","type":11,"remark":"","exchange":"SZ","created":1509441386087},{"symbol":"SZ002672","name":"东江环保","type":11,"remark":"","exchange":"SZ","created":1509435251672},{"symbol":"SZ300144","name":"宋城演艺","type":11,"remark":"","exchange":"SZ","created":1509367738874},{"symbol":"SZ300133","name":"华策影视","type":11,"remark":"","exchange":"SZ","created":1509347018164},{"symbol":"SZ300476","name":"胜宏科技","type":11,"remark":"","exchange":"SZ","created":1509269994379},{"symbol":"SZ002649","name":"博彦科技","type":11,"remark":"","exchange":"SZ","created":1509078677432},{"symbol":"SZ002138","name":"顺络电子","type":11,"remark":"","exchange":"SZ","created":1508582876457},{"symbol":"SH511880","name":"银华日利ETF","type":13,"remark":"","exchange":"SH","created":1508297373301},{"symbol":"SH601919","name":"中远海控","type":11,"remark":"","exchange":"SH","created":1507472144099},{"symbol":"SZ300554","name":"三超新材","type":11,"remark":"","exchange":"SZ","created":1507099028962},{"symbol":"SZ002798","name":"帝欧家居","type":11,"remark":"","exchange":"SZ","created":1506663391937},{"symbol":"SZ002088","name":"鲁阳节能","type":11,"remark":"","exchange":"SZ","created":1506521696289},{"symbol":"SH603416","name":"信捷电气","type":11,"remark":"","exchange":"SH","created":1506483148748},{"symbol":"SH600862","name":"中航高科","type":11,"remark":"","exchange":"SH","created":1506438753703},{"symbol":"SZ002380","name":"科远智慧","type":11,"remark":"","exchange":"SZ","created":1506436794421},{"symbol":"SH600111","name":"北方稀土","type":11,"remark":"","exchange":"SH","created":1506431721745},{"symbol":"SZ300545","name":"联得装备","type":11,"remark":"","exchange":"SZ","created":1506255859549},{"symbol":"SH603179","name":"新泉股份","type":11,"remark":"","exchange":"SH","created":1506090230952},{"symbol":"SZ000831","name":"五矿稀土","type":11,"remark":"","exchange":"SZ","created":1506072253021},{"symbol":"SH600392","name":"盛和资源","type":11,"remark":"","exchange":"SH","created":1506066373801},{"symbol":"SZ002571","name":"德力股份","type":11,"remark":"","exchange":"SZ","created":1505916406708},{"symbol":"SH600998","name":"九州通","type":11,"remark":"","exchange":"SH","created":1505525916023},{"symbol":"SZ002389","name":"航天彩虹","type":11,"remark":"","exchange":"SZ","created":1505525789995},{"symbol":"SH603338","name":"浙江鼎力","type":11,"remark":"","exchange":"SH","created":1505449446765},{"symbol":"SZ002614","name":"奥佳华","type":11,"remark":"","exchange":"SZ","created":1505287078724},{"symbol":"SZ002458","name":"益生股份","type":11,"remark":"","exchange":"SZ","created":1505270000977},{"symbol":"SZ002602","name":"世纪华通","type":11,"remark":"","exchange":"SZ","created":1505101288205},{"symbol":"SZ000988","name":"华工科技","type":11,"remark":"","exchange":"SZ","created":1504971265055},{"symbol":"SZ300420","name":"五洋停车","type":11,"remark":"","exchange":"SZ","created":1504929670519},{"symbol":"SH600037","name":"歌华有线","type":11,"remark":"","exchange":"SH","created":1504683936198},{"symbol":"SZ300691","name":"联合光电","type":11,"remark":"","exchange":"SZ","created":1504664165113},{"symbol":"SZ002327","name":"富安娜","type":11,"remark":"","exchange":"SZ","created":1504509819085},{"symbol":"SZ002850","name":"科达利","type":11,"remark":"","exchange":"SZ","created":1504426805705},{"symbol":"SZ002410","name":"广联达","type":11,"remark":"","exchange":"SZ","created":1504406432544},{"symbol":"SZ002518","name":"科士达","type":11,"remark":"","exchange":"SZ","created":1504354063114},{"symbol":"SH603096","name":"新经典","type":11,"remark":"","exchange":"SH","created":1504278603131},{"symbol":"SZ300055","name":"万邦达","type":11,"remark":"","exchange":"SZ","created":1504188149235},{"symbol":"SZ002044","name":"美年健康","type":11,"remark":"","exchange":"SZ","created":1504085542829},{"symbol":"SZ002019","name":"亿帆医药","type":11,"remark":"","exchange":"SZ","created":1504084836490},{"symbol":"SZ002635","name":"安洁科技","type":11,"remark":"","exchange":"SZ","created":1503629127480},{"symbol":"SZ300373","name":"扬杰科技","type":11,"remark":"","exchange":"SZ","created":1502934020308},{"symbol":"SH603806","name":"福斯特","type":11,"remark":"","exchange":"SH","created":1502799997960},{"symbol":"SZ300193","name":"佳士科技","type":11,"remark":"","exchange":"SZ","created":1502718258959},{"symbol":"SH603883","name":"老百姓","type":11,"remark":"","exchange":"SH","created":1502443875775},{"symbol":"SZ300438","name":"鹏辉能源","type":11,"remark":"","exchange":"SZ","created":1502266659496},{"symbol":"SZ002008","name":"大族激光","type":11,"remark":"","exchange":"SZ","created":1502018305308},{"symbol":"SZ300383","name":"光环新网","type":11,"remark":"","exchange":"SZ","created":1502008208009},{"symbol":"SH603595","name":"东尼电子","type":11,"remark":"","exchange":"SH","created":1501600823071},{"symbol":"SH600563","name":"法拉电子","type":11,"remark":"","exchange":"SH","created":1501463625384},{"symbol":"SZ002050","name":"三花智控","type":11,"remark":"","exchange":"SZ","created":1501426510889},{"symbol":"SZ300274","name":"阳光电源","type":11,"remark":"","exchange":"SZ","created":1500771360857},{"symbol":"SZ300223","name":"北京君正","type":11,"remark":"","exchange":"SZ","created":1500478240938},{"symbol":"SZ300127","name":"银河磁体","type":11,"remark":"","exchange":"SZ","created":1499835763514},{"symbol":"SZ300326","name":"凯利泰","type":11,"remark":"骨科，微创，行业爆发？\n春立，爱康医疗，港股都爆发了\n20190828","exchange":"SZ","created":1499661007891},{"symbol":"SZ300667","name":"必创科技","type":11,"remark":"","exchange":"SZ","created":1499556075988},{"symbol":"SZ300666","name":"江丰电子","type":11,"remark":"","exchange":"SZ","created":1499556055883},{"symbol":"SH603180","name":"金牌厨柜","type":11,"remark":"","exchange":"SH","created":1498886086671},{"symbol":"SZ002444","name":"巨星科技","type":11,"remark":"","exchange":"SZ","created":1498717077508},{"symbol":"SZ000823","name":"超声电子","type":11,"remark":"","exchange":"SZ","created":1497701533602},{"symbol":"SZ002422","name":"科伦药业","type":11,"remark":"","exchange":"SZ","created":1497090174657},{"symbol":"SZ300481","name":"濮阳惠成","type":11,"remark":"","exchange":"SZ","created":1496726206182},{"symbol":"SZ002185","name":"华天科技","type":11,"remark":"","exchange":"SZ","created":1496370646949},{"symbol":"SZ002718","name":"友邦吊顶","type":11,"remark":"","exchange":"SZ","created":1496316686329},{"symbol":"SH603799","name":"华友钴业","type":11,"remark":"","exchange":"SH","created":1496280074264},{"symbol":"SZ300236","name":"上海新阳","type":11,"remark":"","exchange":"SZ","created":1496125739343},{"symbol":"SH600380","name":"健康元","type":11,"remark":"","exchange":"SH","created":1495540967507},{"symbol":"SZ002792","name":"通宇通讯","type":11,"remark":"","exchange":"SZ","created":1495286229851},{"symbol":"SZ002222","name":"福晶科技","type":11,"remark":"","exchange":"SZ","created":1495192222858},{"symbol":"SZ300479","name":"神思电子","type":11,"remark":"","exchange":"SZ","created":1495112458975},{"symbol":"SZ002555","name":"三七互娱","type":11,"remark":"","exchange":"SZ","created":1493344151434},{"symbol":"SZ300059","name":"东方财富","type":11,"remark":"","exchange":"SZ","created":1493006862488},{"symbol":"SZ002636","name":"金安国纪","type":11,"remark":"","exchange":"SZ","created":1492956611495},{"symbol":"SZ300595","name":"欧普康视","type":11,"remark":"","exchange":"SZ","created":1492901659736},{"symbol":"SH603899","name":"晨光文具","type":11,"remark":"","exchange":"SH","created":1492839887850},{"symbol":"SZ300607","name":"拓斯达","type":11,"remark":"","exchange":"SZ","created":1492839221873},{"symbol":"SZ002405","name":"四维图新","type":11,"remark":"","exchange":"SZ","created":1492823089588},{"symbol":"SZ002859","name":"洁美科技","type":11,"remark":"","exchange":"SZ","created":1492745925865},{"symbol":"SZ002847","name":"盐津铺子","type":11,"remark":"","exchange":"SZ","created":1492616610366},{"symbol":"SH600763","name":"通策医疗","type":11,"remark":"","exchange":"SH","created":1491752930057},{"symbol":"SH603686","name":"龙马环卫","type":11,"remark":"","exchange":"SH","created":1491393086441},{"symbol":"SZ002048","name":"宁波华翔","type":11,"remark":"","exchange":"SZ","created":1491369010934},{"symbol":"SZ000997","name":"新大陆","type":11,"remark":"","exchange":"SZ","created":1491224754779},{"symbol":"SZ002624","name":"完美世界","type":11,"remark":"","exchange":"SZ","created":1490521111068},{"symbol":"SH601021","name":"春秋航空","type":11,"remark":"","exchange":"SH","created":1490458469748},{"symbol":"SZ002156","name":"通富微电","type":11,"remark":"","exchange":"SZ","created":1489311514255},{"symbol":"SZ300496","name":"中科创达","type":11,"remark":"","exchange":"SZ","created":1488846377994},{"symbol":"SZ002036","name":"联创电子","type":11,"remark":"","exchange":"SZ","created":1487123497714},{"symbol":"SZ300331","name":"苏大维格","type":11,"remark":"","exchange":"SZ","created":1486902376355},{"symbol":"SZ300409","name":"道氏技术","type":11,"remark":"","exchange":"SZ","created":1485261962524},{"symbol":"SZ300567","name":"精测电子","type":11,"remark":"","exchange":"SZ","created":1484731388282},{"symbol":"SZ002690","name":"美亚光电","type":11,"remark":"","exchange":"SZ","created":1484724460098},{"symbol":"SZ300206","name":"理邦仪器","type":11,"remark":"","exchange":"SZ","created":1484704542466},{"symbol":"SZ300396","name":"迪瑞医疗","type":11,"remark":"","exchange":"SZ","created":1484661898937},{"symbol":"SZ300415","name":"伊之密","type":11,"remark":"","exchange":"SZ","created":1484642818557},{"symbol":"SZ300416","name":"苏试试验","type":11,"remark":"","exchange":"SZ","created":1484581705067},{"symbol":"SZ300523","name":"辰安科技","type":11,"remark":"","exchange":"SZ","created":1484580226329},{"symbol":"SZ002821","name":"凯莱英","type":11,"remark":"","exchange":"SZ","created":1484577644900},{"symbol":"SH600479","name":"千金药业","type":11,"remark":"","exchange":"SH","created":1484484353538},{"symbol":"SZ300429","name":"强力新材","type":11,"remark":"","exchange":"SZ","created":1484312214642},{"symbol":"SZ002402","name":"和而泰","type":11,"remark":"","exchange":"SZ","created":1483457567683},{"symbol":"SH603108","name":"润达医疗","type":11,"remark":"","exchange":"SH","created":1483457344503},{"symbol":"SZ300469","name":"信息发展","type":11,"remark":"","exchange":"SZ","created":1483457265007},{"symbol":"SZ002747","name":"埃斯顿","type":11,"remark":"","exchange":"SZ","created":1483457238504},{"symbol":"SZ000425","name":"徐工机械","type":11,"remark":"","exchange":"SZ","created":1483413681946},{"symbol":"SZ002643","name":"万润股份","type":11,"remark":"","exchange":"SZ","created":1482986650801},{"symbol":"SZ300003","name":"乐普医疗","type":11,"remark":"","exchange":"SZ","created":1482931037851},{"symbol":"SH601038","name":"一拖股份","type":11,"remark":"","exchange":"SH","created":1482807144388},{"symbol":"SZ300319","name":"麦捷科技","type":11,"remark":"","exchange":"SZ","created":1482162186716},{"symbol":"SZ000528","name":"柳工","type":11,"remark":"","exchange":"SZ","created":1481722457490},{"symbol":"SZ000951","name":"中国重汽","type":11,"remark":"","exchange":"SZ","created":1481371494770},{"symbol":"SZ300009","name":"安科生物","type":11,"remark":"","exchange":"SZ","created":1481095404935},{"symbol":"SZ300146","name":"汤臣倍健","type":11,"remark":"","exchange":"SZ","created":1481080724774},{"symbol":"SZ300109","name":"新开源","type":11,"remark":"","exchange":"SZ","created":1480913850755},{"symbol":"SZ002466","name":"天齐锂业","type":11,"remark":"","exchange":"SZ","created":1473866304217},{"symbol":"SH603611","name":"诺力股份","type":11,"remark":"","exchange":"SH","created":1472394067819},{"symbol":"SZ300482","name":"万孚生物","type":11,"remark":"","exchange":"SZ","created":1470655270172},{"symbol":"SZ002182","name":"云海金属","type":11,"remark":"","exchange":"SZ","created":1470237014297},{"symbol":"SH603027","name":"千禾味业","type":11,"remark":"","exchange":"SH","created":1469973874227},{"symbol":"SZ300529","name":"健帆生物","type":11,"remark":"","exchange":"SZ","created":1469068278287},{"symbol":"SZ000403","name":"双林生物","type":11,"remark":"","exchange":"SZ","created":1469019261844},{"symbol":"SZ300458","name":"全志科技","type":11,"remark":"","exchange":"SZ","created":1468826498529},{"symbol":"SZ300231","name":"银信科技","type":11,"remark":"","exchange":"SZ","created":1468463731512},{"symbol":"SZ002727","name":"一心堂","type":11,"remark":"","exchange":"SZ","created":1468219431193},{"symbol":"SZ002007","name":"华兰生物","type":11,"remark":"","exchange":"SZ","created":1465639626165},{"symbol":"SZ300253","name":"卫宁健康","type":11,"remark":"","exchange":"SZ","created":1464390843669},{"symbol":"SH603939","name":"益丰药房","type":11,"remark":"","exchange":"SH","created":1464302784767},{"symbol":"SH600779","name":"水井坊","type":11,"remark":"","exchange":"SH","created":1459946829931},{"symbol":"SZ300088","name":"长信科技","type":11,"remark":"","exchange":"SZ","created":1459910953446},{"symbol":"SZ002322","name":"理工环科","type":11,"remark":"","exchange":"SZ","created":1459863600557},{"symbol":"SH000903","name":"中证100","type":12,"remark":"","exchange":"SH","created":1457343918911},{"symbol":"SZ002709","name":"天赐材料","type":11,"remark":"","exchange":"SZ","created":1456389041871},{"symbol":"SH513500","name":"标普500ETF","type":13,"remark":"","exchange":"SH","created":1456373969890},{"symbol":"SZ000710","name":"贝瑞基因","type":11,"remark":"","exchange":"SZ","created":1453294988703},{"symbol":"SZ002340","name":"格林美","type":11,"remark":"","exchange":"SZ","created":1450414821001},{"symbol":"SZ300400","name":"劲拓股份","type":11,"remark":"","exchange":"SZ","created":1447326010912},{"symbol":"SZ399300","name":"沪深300","type":12,"remark":"","exchange":"SZ","created":1445079328310},{"symbol":"SH000905","name":"中证500","type":12,"remark":"","exchange":"SH","created":1441607183124},{"symbol":"SH601318","name":"中国平安","type":11,"remark":"","exchange":"SH","created":1440131999933},{"symbol":"SZ399006","name":"创业板指","type":12,"remark":"","exchange":"SZ","created":1439537261116},{"symbol":"SH513600","name":"恒生指数ETF","type":13,"remark":"","exchange":"SH","created":1439081656609},{"symbol":"SZ300463","name":"迈克生物","type":11,"remark":"","exchange":"SZ","created":1438238910264},{"symbol":"SZ300177","name":"中海达","type":11,"remark":"","exchange":"SZ","created":1436344094809},{"symbol":"SZ300347","name":"泰格医药","type":11,"remark":"","exchange":"SZ","created":1435552393287},{"symbol":"SZ300450","name":"先导智能","type":11,"remark":"","exchange":"SZ","created":1432733699866},{"symbol":"SZ159920","name":"恒生ETF","type":13,"remark":"","exchange":"SZ","created":1428728155758},{"symbol":"SH510900","name":"H股ETF","type":13,"remark":"","exchange":"SH","created":1428009025492},{"symbol":"SZ002139","name":"拓邦股份","type":11,"remark":"","exchange":"SZ","created":1425948379533},{"symbol":"SZ399102","name":"创业板综","type":12,"remark":"","exchange":"SZ","created":1425297452696},{"symbol":"SZ002273","name":"水晶光电","type":11,"remark":"","exchange":"SZ","created":1413642273727},{"symbol":"SZ399106","name":"深证综指","type":12,"remark":"","exchange":"SZ","created":1406284577334},{"symbol":"SZ300183","name":"东软载波","type":11,"remark":"","exchange":"SZ","created":1401165349580},{"symbol":"SZ300136","name":"信维通信","type":11,"remark":"","exchange":"SZ","created":1400047488586},{"symbol":"SZ300101","name":"振芯科技","type":11,"remark":"","exchange":"SZ","created":1397798421151},{"symbol":"SZ399005","name":"中小板指","type":12,"remark":"","exchange":"SZ","created":1395283355538},{"symbol":"SZ002079","name":"苏州固锝","type":11,"remark":"","exchange":"SZ","created":1391745853280},{"symbol":"SZ002587","name":"奥拓电子","type":11,"remark":"","exchange":"SZ","created":1388381768668},{"symbol":"SZ300316","name":"晶盛机电","type":11,"remark":"","exchange":"SZ","created":1387863248509},{"symbol":"SZ002199","name":"东晶电子","type":11,"remark":"","exchange":"SZ","created":1387863170474},{"symbol":"SZ300327","name":"中颖电子","type":11,"remark":"","exchange":"SZ","created":1387857374566},{"symbol":"SZ300034","name":"钢研高纳","type":11,"remark":"","exchange":"SZ","created":1387854641287},{"symbol":"SZ000952","name":"广济药业","type":11,"remark":"","exchange":"SZ","created":1387532717171},{"symbol":"SH600699","name":"均胜电子","type":11,"remark":"","exchange":"SH","created":1387445495141},{"symbol":"SZ002281","name":"光迅科技","type":11,"remark":"","exchange":"SZ","created":1387261627231},{"symbol":"SZ300014","name":"亿纬锂能","type":11,"remark":"","exchange":"SZ","created":1385011737268},{"symbol":"SZ002460","name":"赣锋锂业","type":11,"remark":"","exchange":"SZ","created":1384056375471},{"symbol":"SZ300124","name":"汇川技术","type":11,"remark":"","exchange":"SZ","created":1375090999580},{"symbol":"SH000001","name":"上证指数","type":12,"remark":"","exchange":"SH","created":1341237149686}]},"error_code":0,"error_description":""}
	public static List<String> getFollowStks() throws Exception {
		Map<String, String> headerRequests = XueqiuUtils.getCookies();
		String page = HttpUtils.get("https://stock.xueqiu.com/v5/stock/portfolio/stock/list.json?pid=-5&category=1&size=1000&uid=6237744859", null, headerRequests, "UTF-8");
		
		Map<String, Class> m = new HashMap<String, Class>();
        m.put("data", Map.class);
        m.put("stocks", Map.class);
        Map<String, Map> map = (Map) JsonUtils.getObject4Json(page, Map.class, m);
        Map<String, List> data = map.get("data");
		List<Map> stocks = data.get("stocks");
		//System.out.println(stocks);
		
		List<String> stks = new ArrayList<String>();
		for(Map<String,String> stock : stocks){
			String symbol = stock.get("symbol");
			String exchange = stock.get("exchange");
			stks.add(StringUtils.replace(symbol, exchange, ""));
		}
		System.out.println(StringUtils.join(stks, ","));
		FileUtils.writeStringToFile(new File("D:\\share\\workspace\\stk123\\mystocks.txt"), StringUtils.join(stks, ","));
		return stks;
	}
	
	private static Map<String,Set<String>> Follows = new HashMap<String, Set<String>>();
	
	public static boolean existingXueqiuFollowStk(String tabName, String code) {
		Set<String> set = null;
		try {
			if(set == null){
				set = getFollowStks(tabName);
			}
		} catch (Exception e) {
			set = new HashSet();
			return false;
		}
		return set.contains(code);
	}
	
	public static void clearCookie(){
		cookies = null;
	}
	
	public static Set<String> getFollow() throws Exception {
		String page = HttpUtils.get("https://xueqiu.com/v4/stock/portfolio/stocks.json?size=1000&pid=10&tuid=6237744859&pname=%E5%85%B3%E6%B3%A8C&uid=6237744859&category=2&type=2&_=1505130889888", null, "GBK");
    	//System.out.println(page);
		Set<String> careA = new HashSet<String>();
        Map<String, List> map = (Map) JsonUtils.testJson(page);
        List<Map> stks = (List)map.get("stocks");
        for(Map s : stks){
        	careA.add((String)s.get("code"));
        };
        return careA;
	}

	public static void main(String[] args) throws Exception {
		// TODO Auto-generated method stub
		/*System.out.println("login="+login());
		Set<String> followStks = XueqiuUtils.getFollowStks("关注C");
		System.out.println(followStks);*/
		/*followStks.addAll(XueqiuUtils.getFollowStks("备选"));
		IOUtils.writeLines(followStks, null, new FileOutputStream(new File("d:\\care.txt")));*/
		//System.out.println(ConfigUtils.getProp("xueqiu.cookie"));
		//System.out.println(XueqiuUtils.getFollowStks("关注C"));
		//XueqiuUtils.getCookies();
		XueqiuUtils.getFollowStks();
	}

}
